@GuideBook(title: "Clavier Musical", icon: title.png, background: titleBackground.png, firstFile: SoundPadView.swift) {
    @WelcomeMessage(title: "Cr√©e tes propres musiques en codant un clavier musical !") {
      Dans cet atelier, nous allons explorer la programmation iOS en r√©alisant une petite app de clavier musical.
      
      Pr√™t.e √† composer tes propres musiques ? C'est parti ! üöÄüéµ
    }
    @Guide {
        @Step(title: "Cr√©er ton clavier musical üéõÔ∏è ") {
            @ContentAndMedia {
                ![](intro.png)
                                
                Le clavier musical permet de m√©langer diff√©rents sons pour cr√©er sa propre musique. 
                Tu peux ainsi cr√©er ton propre instrument en codant, puis enregistrer et partager tes compositions
                avec ami.e.s et familles.
               
            }
            @TaskGroup(title: "D√©couvrir les boutons sonores") {
                @Task(type: experiment, title: "Ajouter les boutons sonores", id: "soundPadButtons", file: SoundPadView.swift) {
                    @Page(id: "1.intro", title: "") {
                      Un clavier musical n√©cessite des boutons sonores pour lancer et arr√™ter les sons. Il y en a d√©j√† un, examinons-le ensemble !
                        
                      Un bouton sonore est caract√©ris√© par 3 propri√©t√©s :
                        - un son
                        - une couleur
                        - une image affich√©e sur le bouton
                        
                        Taper sur un bouton sonore joue le son associ√©. Taper √† nouveau arr√™te le son.
                    }
                    @Page(id: "1.addSoundButton", title: "") {
                      Ce bouton est sympa, mais il n'y en a qu'un ! Ajoutons-en quelques autres...
                                                
                      Ajoute le morceau de code ci-dessous pour cr√©er un nouveau bouton sonore :
                      
                      ```
                      SoundButton(sound: .CosmicBeat, color: .purple, image: Image(systemName: "star"))
                      ```
                    }
                }
                @Task(type: experiment, title: "Positioner les boutons sonores", id: "soundPadGrid", file: SoundPadView.swift) {
                    @Page(id: "1.createTheGrid", title: "") {
                      As-tu remarqu√© ? Les boutons sont positionn√©s l'un en-dessous de l'autre. Ce n'est pas id√©al.
                      
                      üí° Il nous faut une grille !
                        
                      Efface les boutons et ajoute le morceau de code ci-dessous pour cr√©er une grille contenant nos deux 
                      boutons sonores:
                      
                      ```
                      Grid {
                          //#-learning-code-snippet(1.addFirstGridRow)
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                      }
                      ```
                    }
                    @Page(id: "1.addFirstGridRow", title: "") {
                      Hmm...le rendu n'a pas beaucoup chang√© üòï 
                      
                      üí° C'est parce que notre grille n'a pas de rang√©es !

                      Efface les deux boutons, et ajoute le morceau de code ci-dessous pour cr√©er 
                      une rang√©e contenant nos boutons sonores :
                      
                      ```
                      GridRow {
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          //#-learning-code-snippet(1.addOneMoreButton)
                      }
                      //#-learning-code-snippet(1.addMoreGridRows)
                      ```
                      
                      G√©nial ! Nos deux boutons sont maintenant align√©s sur la m√™me rang√©e.
                    }
                    @Page(id: "1.addOneMoreButton", title: "") {
                      Nous avons besoin de davantage de boutons dans ce clavier musical, 
                      et il semble bien que nous en ayons la place.
                      
                      Ajoutons un troisi√®me bouton √† notre rang√©e !
                                            
                      ```
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                      ```
    
                      Super ! 
                      
                      As-tu remarqu√© ? Leur taille s'est automatiquement ajust√©e pour que les boutons remplissent la largeur de l'√©cran, tout en tenant c√¥te √† c√¥te.
                    }
                    @Page(id: "1.addMoreGridRows", title: "") {
                      Nous avons parl√© d'une grille tout √† l'heure. Ajoutons d'autres rang√©es de boutons sonore !
                      
                      Tape ou ajoute le morceau de code ci-dessous pour obtenir 2 nouvelles rang√©es : 
                        
                      ```
                      GridRow {
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                      }
                      GridRow {
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .SlowBeat, color: .purple, image: Image(systemName: "star"))
                      }
                      ```
                        
                      Notre clavier musical est pr√™t ! üéâ Il y a juste un probl√®me...
                    }
                }
                @Task(type: experiment, title: "Personnaliser les boutons sonores", id: "soundPadCustomization", file: SoundPadView.swift) {
                    @Page(id: "1.changeSound", title: "", isAddable: false) {
                      Nos boutons jouent tous le m√™me son ! Pas terrible pour composer un morceau üòì Arrangeons cela !
                      
                      Changer la valeur du param√®tre `sound` d'un bouton modifie le son qui est jou√©.
                                                
                      Pour voir les autres sons disponibles, efface  `.SlowBeat` et tape un point (`.`). 
                      S√©lectionne ensuite un nouveau son dans la liste de sons qui appara√Æt, comme `.CosmisBass`:
                      
                      ```
                      SoundButton(sound: .CosmicBass, color: .purple, image: Image(systemName: "star"))
                      ```
                      
                      Explore les autres sons de la librairie, et s√©lectionne ceux qui te plaisent le plus !
                    }
                    @Page(id: "1.changeColor", title: "", isAddable: false) {
                      Chaque bouton accepte aussi un param√®tre `color`, pour diff√©rencier les boutons, mais aussi pour rendre
                      le clavier musical plus fun!
                      
                      Change la couleur d'un bouton en effa√ßant `.purple`, puis tape `.`. 
                      
                      Comme pour les sons, la liste des couleurs disponibles s'affiche. 
                      
                      Tu peux maintenant choisir une nouvelle couleur, comme `.mint` par exemple:
                      
                      ```
                      SoundButton(sound: .CosmicBass, color: .mint, image: Image(systemName: "star")
                      ```
                      
                      Personnalise tous tes boutons et donne √† ton clavier musical un look unique ! üé®
                    }
                    @Page(id: "1.changeImage", title: "", isAddable: false) {
                        Pour finir, chaque bouton accepte √©galement un dernier param√®tre : une image.
                        
                        Pour changer l'image d'un bouton : 
                        - Efface `Image(systemName: "star")`
                        - Tape sur le menu images, repr√©sent√© par une √©toile dans un cercle, accessible dans la barre en haut de la fen√™tre
                        - Tape sur l'image qui te pla√Æt pour l'ajouter au bouton
                        
                        ```
                        SoundButton(sound: .CosmicBass, color: .mint, image: Image(systemName: "music.note"))
                        ```
                        
                        Tu trouveras un grand nombre d'ic√¥nes parmi lesquelles choisir !
                    }
                    @Page(id: "1.beatsStudioSession", title: "") {
                      Notre clavier musical est superbe ! Il est grand temps d'enregistrer une musique !
                      
                      Appuie sur le bouton "`Enregistrer`" et lance-toi. Tu peux ensuite r√©√©couter ton morceau, avant de le partager!
                      
                      √áa y est, tu composes de la musique ! üòé
                    }
                }
            }
            @TaskGroup(title: "Ajouter de nouveaux sons") {
                @Task(type: experiment, title: "Ajouter les fichiers sonores", id: "newSounds", file: Sound.swift) {
                    @Page(id: "2.intro", title: "") {
                      Nous avons quelques sons sympathiques, mais que faire pour en ajouter d'autres ?
                    }
                    @Page(id: "2.addSoundFiles", title: "") {
                        - Dans la barre lat√©rale gauche, tape sur l'ic√¥ne situ√©e en haut √† droite 
                        repr√©sentant un fichier avec un petit "+".
                        
                        Un menu s'ouvre.
                        
                        - Tape sur "Ins√©rer depuis...", puis navigue vers le dossier "Nouveaux Sons".
                        
                        - Tape sur chaque fichier que tu souhaites importer dans l'app, 
                        ou tape sur "Tout s√©lect." pour tous les s√©lectionner.
                        
                        - Tape ensuite sur "Ouvrir", en haut √† droite de la fen√™tre d'ajout de fichier.
                                                
                        üéâ Voil√† ! Les nouveaux fichiers sonores sont maintenant dans l'app !
                        
                        Pour plus de clart√©, positionons-les sous la section `Sample Sounds` en tirant-glissant.
                      }
                    @Page(id: "2.addSound", title: "") {  
                      Nos boutons sonores ne reconnaissent que les sons de type `Sound`. 
                      
                      Pour utiliser nos nouveaux fichiers sonores, nous devons les associer √† un `Sound`. 
                      
                      Allons-y !
                      
                      ```
                      // New Sounds
                      case DrumPercussions, 
                           GlowBeat, 
                           GlowChords
                      ```
                    }
                    @Page(id: "2.Done!", title: "") {
                        Parfait ! Nous pouvons maintenant utiliser ces nouveaux sons dans nos boutons !
                        
                        Essayons !
                    }
                }
                @Task(type: experiment, title: "Utiliser nos nouveaux sons", id: "soundPadButtons", file: SoundPadView.swift) {
                    @Page(id: "3.changeSound", title: "", isAddable: false) {
                      Tu peux soit cr√©er de nouveaux boutons pour tes nouveaux sons, en ajoutant une nouvelle rang√©e :
                      
                      ```
                      GridRow {
                          SoundButton(sound: .DrumPercussions, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .GlowBeat, color: .purple, image: Image(systemName: "star"))
                          SoundButton(sound: .GlowChords, color: .purple, image: Image(systemName: "star"))
                      }
                      ```
                      
                      ou modifier les boutons existant en leur passant en param√®tres les nouveaux sons que tu as cr√©√©s:
                        
                      ```
                      SoundButton(sound: .GlowBeat, color: .purple, Image(systemName: "star"))
                      ```
                      
                      Tu peux bien s√ªr toujours modifier les couleurs et les images de tes boutons !
                    }
                 }            
            }
        }
    }
}
